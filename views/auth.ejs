<!-- views/auth.ejs -->
<!DOCTYPE html>
<html lang="pt-br">

<%- include('partials/head', { pageTitle: 'Autenticação - Coliseu Pokémon' ,
    pageDescription: 'Faça login ou registre-se para acessar o painel de escritores e parceiros do Coliseu Pokémon.' ,
    pageKeywords: 'Login, Registro, Escritores, Parceiros, Coliseu Pokémon' }) %>

    <body class="index-page">
        <!-- Header -->
        <%- include('partials/header', { activePage: 'auth' }) %>

            <!-- Conteúdo Principal -->
            <main class="main">

                <!-- Hero Section -->
                <section id="hero" class="hero section dark-background">

                    <div class="overlay"></div> <!-- Overlay para máscara preta transparente -->

                    <div id="hero-carousel" data-bs-interval="5000" class="carousel carousel-fade"
                        data-bs-ride="carousel">

                        <!-- Slide 1 -->
                        <div class="carousel-item active"
                            style="background-image: url('/img/slide1.png'); background-size: cover; background-position: center; background-repeat: no-repeat; width: 100vw;">
                            <div class="carousel-container">
                                <h2 class="animate__animated animate__fadeInDown">Bem-vindo ao <span>Coliseu
                                        Pokémon</span></h2>
                                <p class="animate__animated animate__fadeInUp">Um canal dedicado aos fãs de Pokémon, com
                                    batalhas, análises
                                    e muito mais!</p>
                                <a href="#about"
                                    class="btn-get-started animate__animated animate__fadeInUp scrollto">Saiba Mais</a>
                            </div>
                        </div>

                        <!-- Slide 2 -->
                        <div class="carousel-item"
                            style="background-image: url('/img/slide2.png'); background-size: cover; background-position: center; background-repeat: no-repeat; width: 100vw;">
                            <div class="carousel-container">
                                <h2 class="animate__animated animate__fadeInDown">Exploração e Batalhas</h2>
                                <p class="animate__animated animate__fadeInUp">Desbrave o mundo Pokémon com a gente e
                                    participe das batalhas
                                    épicas!</p>
                                <a href="#about"
                                    class="btn-get-started animate__animated animate__fadeInUp scrollto">Saiba Mais</a>
                            </div>
                        </div>

                        <!-- Slide 3 -->
                        <div class="carousel-item"
                            style="background-image: url('/img/slide3.png'); background-size: cover; background-position: center; background-repeat: no-repeat; width: 100vw;">
                            <div class="carousel-container">
                                <h2 class="animate__animated animate__fadeInDown">Novidades e Dicas</h2>
                                <p class="animate__animated animate__fadeInUp">Fique por dentro das novidades e receba
                                    dicas para melhorar
                                    suas estratégias!</p>
                                <a href="#about"
                                    class="btn-get-started animate__animated animate__fadeInUp scrollto">Saiba Mais</a>
                            </div>
                        </div>

                        <a class="carousel-control-prev" href="#hero-carousel" role="button" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon bi bi-chevron-left" aria-hidden="true"></span>
                        </a>

                        <a class="carousel-control-next" href="#hero-carousel" role="button" data-bs-slide="next">
                            <span class="carousel-control-next-icon bi bi-chevron-right" aria-hidden="true"></span>
                        </a>

                    </div>

                    <svg class="hero-waves" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28 " preserveAspectRatio="none">
                        <defs>
                            <path id="wave-path"
                                d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
                        </defs>
                        <g class="wave1">
                            <use xlink:href="#wave-path" x="50" y="3"></use>
                        </g>
                        <g class="wave2">
                            <use xlink:href="#wave-path" x="50" y="0"></use>
                        </g>
                        <g class="wave3">
                            <use xlink:href="#wave-path" x="50" y="9"></use>
                        </g>
                    </svg>
                </section><!-- /Hero Section -->
                <section class="auth-section section">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-6">
                                <div class="auth-card card">
                                    <div class="card-body">
                                        <h2 class="card-title text-center mb-4" id="form-title">Login</h2>
                                        <form id="login-form" action="/login" method="POST">
                                            <div class="mb-3">
                                                <label for="login-email" class="form-label">Email</label>
                                                <input type="email" class="form-control" id="login-email" name="email"
                                                    placeholder="Seu Email" required>
                                            </div>
                                            <div class="mb-3 position-relative">
                                                <label for="login-password" class="form-label">Senha</label>
                                                <input type="password" class="form-control" id="login-password"
                                                    name="password" placeholder="Sua Senha" required>
                                                <i class="bi bi-eye-slash toggle-password"
                                                    data-target="login-password"></i>
                                            </div>
                                            <div class="d-grid gap-2">
                                                <button type="submit" class="btn btn-primary">Entrar</button>
                                            </div>
                                        </form>

                                        <form id="register-form" action="/register" method="POST"
                                            style="display: none;">
                                            <div class="mb-3">
                                                <label for="register-name" class="form-label">Nome</label>
                                                <input type="text" class="form-control" id="register-name" name="name"
                                                    placeholder="Seu Nome" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="register-email" class="form-label">Email</label>
                                                <input type="email" class="form-control" id="register-email"
                                                    name="email" placeholder="Seu Email" required>
                                            </div>
                                            <div class="mb-3 position-relative">
                                                <label for="register-password" class="form-label">Senha</label>
                                                <input type="password" class="form-control" id="register-password"
                                                    name="password" placeholder="Sua Senha" required>
                                                <i class="bi bi-eye-slash toggle-password"
                                                    data-target="register-password"></i>
                                            </div>
                                            <div class="d-grid gap-2">
                                                <button type="submit" class="btn btn-success">Registrar</button>
                                            </div>
                                        </form>

                                        <div class="mt-3 text-center">
                                            <p id="toggle-text">
                                                Ainda não tem uma conta?
                                                <a href="#" id="show-register">Registre-se aqui</a>
                                            </p>
                                            <p id="toggle-text-register" style="display: none;">
                                                Já tem uma conta?
                                                <a href="#" id="show-login">Faça login aqui</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

            </main>

            <%- include('partials/footer') %>

                <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
                <script src="/vendor/php-email-form/validate.js"></script>
                <script src="/vendor/aos/aos.js"></script>
                <script src="/vendor/glightbox/js/glightbox.min.js"></script>
                <script src="/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
                <script src="/vendor/isotope-layout/isotope.pkgd.min.js"></script>
                <script src="/vendor/swiper/swiper-bundle.min.js"></script>
                <script src="/js/main.js"></script>
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        const showRegister = document.getElementById('show-register');
                        const showLogin = document.getElementById('show-login');
                        const loginForm = document.getElementById('login-form');
                        const registerForm = document.getElementById('register-form');
                        const formTitle = document.getElementById('form-title');
                        const toggleText = document.getElementById('toggle-text');
                        const toggleTextRegister = document.getElementById('toggle-text-register');
                        const togglePasswordIcons = document.querySelectorAll('.toggle-password');

                        showRegister.addEventListener('click', function (e) {
                            e.preventDefault();
                            loginForm.style.display = 'none';
                            registerForm.style.display = 'block';
                            formTitle.textContent = 'Registro';
                            toggleText.style.display = 'none';
                            toggleTextRegister.style.display = 'block';
                        });

                        showLogin.addEventListener('click', function (e) {
                            e.preventDefault();
                            registerForm.style.display = 'none';
                            loginForm.style.display = 'block';
                            formTitle.textContent = 'Login';
                            toggleText.style.display = 'block';
                            toggleTextRegister.style.display = 'none';
                        });

                        togglePasswordIcons.forEach(function (icon) {
                            icon.addEventListener('click', function () {
                                const target = this.getAttribute('data-target');
                                const passwordInput = document.getElementById(target);
                                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                                passwordInput.setAttribute('type', type);
                                this.classList.toggle('bi-eye');
                                this.classList.toggle('bi-eye-slash');
                            });
                        });

                        const loginFormElement = document.getElementById('login-form');
                        const registerFormElement = document.getElementById('register-form');

                        loginFormElement.addEventListener('submit', function (e) {
                            const email = document.getElementById('login-email').value.trim();
                            const password = document.getElementById('login-password').value.trim();
                            if (!email || !password) {
                                e.preventDefault();
                                alert('Por favor, preencha todos os campos de login.');
                            }
                        });

                        registerFormElement.addEventListener('submit', function (e) {
                            const name = document.getElementById('register-name').value.trim();
                            const email = document.getElementById('register-email').value.trim();
                            const password = document.getElementById('register-password').value.trim();
                            if (!name || !email || !password) {
                                e.preventDefault();
                                alert('Por favor, preencha todos os campos de registro.');
                            }
                            if (password.length < 6) {
                                e.preventDefault();
                                alert('A senha deve ter pelo menos 6 caracteres.');
                            }
                        });
                    });
                </script>
    </body>

</html>